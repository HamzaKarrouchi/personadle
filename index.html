<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personadle</title>
    
    <!-- Styles & Icon -->
    <link rel="stylesheet" href="./css/style.css">
    <link rel="icon" type="image/gif" href="./img/persona_64x64.gif">
</head>
<body>


  
 
    <!-- Logo Persona -->
    <header id="homepage">
        <a href="./index.html">
            <img src="./img/Logo_PersonaDLE.png" alt="PersonaDLE Logo" class="logo_HomePage" id="imgHomePage">
        </a>
    </header>
<div id="profileWrapper" style="display: flex; flex-direction: column; align-items: center; margin-top: 20px;">
  <div id="profileDisplay" style="position: relative; display: inline-block;">
    <img id="headerAvatar" src="" alt="Avatar" 
     style="width: 172px; height: auto; border-radius: 50%; object-fit: cover; border: 4px solid black;">

    <span id="headerPseudo"
          style="position: absolute; bottom: 4px; left: 4px; font-weight: bold; font-size: 22px;
                 background: rgba(0, 0, 0, 0.65); color: white; padding: 1px 5px; border-radius: 6px;">
    </span>
  </div>

  <button id="profileButton" class="profile-btn" style="margin-top: 10px;">ğŸ‘¤ My Account</button>

 
</div>



    <!-- Titre principal -->
    <section class="title-wrapper">
        <h1 class="gamemode-title">Try to guess the Persona character (Persona 1 to Persona 5)</h1>
    </section>
    
    <!-- Buttons for game modes -->
    <div id ="gameModeSelector">
        <button class="gamemode-button" id="classicButton" onclick="location.href='./classiqueMode/classiqueMode.html'">
            <img src="./img/classic_button_thanatos (1).png" alt="Classique Mode">
        </button>
        <button class="gamemode-button" id="EmojiButton" onclick="location.href='./emojiMode/emojiMode.html'">
            <img src="./img/Emoji_button_final.png" alt="Emoji Mode">
        </button>
        <button class="gamemode-button" id="AllOutAttackButton" onclick="location.href='./allOutAttackMode/allOutAttack.html'">
            <img src="./img/all-ou-attack_avec_masque (1).png" alt="All Out Attack Mode">
        </button>
        <button class="gamemode-button" id="shadowsButton" onclick="location.href='./silhouetteMode/silhouette.html'">
            <img src="./img/Shadows_button_Velvet_room.png" alt="Shadows Mode">
        </button>
        <button class="gamemode-button" id="PersonaeButton" onclick="location.href='./personaeMode/personae.html'">
            <img src="./img/personae button.png" alt="Persona Mode">
            </button>
           <button class="gamemode-button" id="MusicButton" onclick="location.href='./musicsMode/musics.html'">
            <img src="./img/musicmode.png" alt="Persona Mode">
            </button>
    </div>
   
<!-- Bouton Mode Sombre -->
<div class="darkmode-toggle">
  <label class="switch">
    <input type="checkbox" id="darkModeToggle">
    <span class="slider round"></span>
  </label>
  <span class="label-text">Dark Mode</span>
</div>

<!-- Script intÃ©grÃ© -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggle = document.getElementById("darkModeToggle");
    const savedMode = localStorage.getItem("darkMode");
    if (savedMode === "enabled") {
      document.body.classList.add("darkmode");
      toggle.checked = true;
    }

    toggle.addEventListener("change", () => {
      if (toggle.checked) {
        document.body.classList.add("darkmode");
        localStorage.setItem("darkMode", "enabled");
      } else {
        document.body.classList.remove("darkmode");
        localStorage.setItem("darkMode", "disabled");
      }
    });
  });
</script>

<div id="socialLinks" style="display: flex; gap: 20px; justify-content: center; margin-top: 20px;">
  <a href="https://github.com/HamzaKarrouchi/personadle" target="_blank" title="GitHub">
    <img src="./assets/buttons/github.svg" alt="GitHub" width="30" height="30" />
  </a>
  <a href="https://discord.gg/wpMdGGDp3y" target="_blank" title="Discord">
    <img src="./assets/buttons/discord.svg" alt="Discord" width="30" height="30" />
  </a>
  <a href="https://ko-fi.com/hamzadev" target="_blank" title="kofi">
    <img src="./assets/buttons/kofi.svg" alt="Twitter" width="30" height="30" />
  </a>
</div>

<footer>
  <p>personadle.net â€” 2025</p>
  <p>
    Personadle is a community-driven, non-commercial project. It is not affiliated with or endorsed by the rights holders. 
    <a href="#" id="legalLink">Legal Notice</a>
  </p>
</footer>

<!-- Legal Modal -->
<div id="legalModal" class="legal-modal" style="display: none;">
  <div class="legal-content">
    <span id="closeLegal" class="close">&times;</span>
    <h2>ğŸ“ Legal Notice / Terms of Use</h2>
    <p><strong>Last updated:</strong> June 2025</p>

    <p>
      This website ("<strong>Personadle</strong>") is a non-commercial fan project and tribute to the <em>Persona</em> franchise, created purely for educational and entertainment purposes.
    </p>

    <p>
      All code and game logic are original and developed by <strong>Hamza</strong> & <strong>L2GENDAIRE</strong>.  
      The project is entirely free of charge and released under the open-source <a href="https://opensource.org/licenses/MIT" target="_blank">MIT License</a>.
    </p>

    <h3>ğŸ­ Intellectual Property</h3>
    <p>
      This site is an unofficial fan creation and is not affiliated with or endorsed by ATLUS, SEGA, or any official Persona development team.<br>
      All Persona characters, names, music, and visual assets remain the property of their respective rights holders:  
      Â© ATLUS, Â© SEGA, Â© Shoji Meguro, Â© Lyn Inaizumi, Â© Lotus Juice, and others.
    </p>

    <p>
      Some UI components (such as button styles, interface layout, and animations) were custom-made by the Personadle team and are not extracted from any original game assets.
    </p>

    <p>
      The "Blind Test" mode features short audio excerpts used strictly for non-commercial, transformative fan purposes.  
      Tracks are credited appropriately, and no full-length music is distributed. If any copyright holder requests removal or modification, we will comply promptly.
    </p>

    <p>
      No copyright infringement is intended. All content is used under the principles of fair use, where applicable, with no monetization involved.
    </p>

    <h3>ğŸ” Data & Privacy</h3>
    <p>
      <strong>Personadle</strong> does not collect, track, or store any personal data.  
      All game progress is saved only in your browser via <code>localStorage</code>. No cookies, no analytics, no third-party tracking.
    </p>

    <h3>ğŸ› ï¸ Open Source</h3>
    <p>
      The full project source code is publicly available under the MIT License.  
      Contributions and forks are welcome, as long as the original authors are credited and no commercial use is made.
    </p>

    <h3>ğŸ’¬ Credits & Thanks</h3>
    <p>
      Developed by <strong>Hamza</strong> & <strong>L2GENDAIRE</strong>.<br>
      With gratitude to the GitHub community, Persona fans on Reddit, and all the supportive feedback from Discord developers â¤ï¸
    </p>

    <h3>ğŸ“¬ Contact</h3>
    <p>
      ğŸ“§ Email: <a href="mailto:hamza.karrouchi.dev@gmail.com">hamza.karrouchi.dev@gmail.com</a><br>
      ğŸ™ GitHub: <a href="https://github.com/HamzaKarrouchi" target="_blank">GitHub.com /</a>
    </p>
  </div>
</div>


<script>
  const legalModal = document.getElementById("legalModal");
  const legalLink = document.getElementById("legalLink");
  const closeLegal = document.getElementById("closeLegal");

  legalLink.onclick = function (e) {
    e.preventDefault();
    legalModal.style.display = "block";
  };

  closeLegal.onclick = function () {
    legalModal.style.display = "none";
  };

  window.onclick = function (event) {
    if (event.target === legalModal) {
      legalModal.style.display = "none";
    }
  };
</script>

<!-- ğŸ•› Daily Reset Button + Modal -->
<button id="dailyInfoBtn" class="daily-btn">ğŸ•› Daily Reset Info</button>

<div id="dailyModal" class="daily-modal" style="display: none;">
  <div class="daily-modal-content">
    <span id="closeDaily" class="close">&times;</span>
    <h2>ğŸ•› Daily Reset</h2>
    <p>
      Each day at midnight (Paris time), a new challenge is available in each mode.<br>
      Your progress resets, and you can try again with a brand-new Persona, song, or challenge!
    </p>
    <p class="countdown-text">Next reset in: <span id="dailyCountdown">--:--:--:--</span></p>
  </div>
</div>

<script>
  const dailyModal = document.getElementById("dailyModal");
  const dailyBtn = document.getElementById("dailyInfoBtn");
  const closeDaily = document.getElementById("closeDaily");
  const countdownEl = document.getElementById("dailyCountdown");

  dailyBtn.onclick = () => dailyModal.style.display = "block";
  closeDaily.onclick = () => dailyModal.style.display = "none";
  window.onclick = (e) => { if (e.target === dailyModal) dailyModal.style.display = "none"; };

  function updateCountdown() {
    const now = new Date();
    const parisTime = new Date(now.toLocaleString("en-US", { timeZone: "Europe/Paris" }));
    const nextMidnight = new Date(parisTime);
    nextMidnight.setHours(24, 0, 0, 0);
    const diff = nextMidnight - parisTime;

    const h = String(Math.floor(diff / 3600000)).padStart(2, '0');
    const m = String(Math.floor((diff % 3600000) / 60000)).padStart(2, '0');
    const s = String(Math.floor((diff % 60000) / 1000)).padStart(2, '0');
    const ms = String(Math.floor((diff % 1000) / 10)).padStart(2, '0');

    countdownEl.textContent = `${h}:${m}:${s}:${ms}`;
    requestAnimationFrame(updateCountdown);
  }
  updateCountdown();


</script>

<!-- === Profile Modal === -->
<div id="profileModal" class="modal hidden">
  <div class="modal-content">
    <span class="close" id="closeProfile">&times;</span>
    <h2>ğŸ§‘ My profil</h2>
    <label for="pseudoInput">Pseudo :</label>
    <input type="text" id="pseudoInput" />

    <h3>Avatar :</h3>
   <img id="avatarPreview" src="" alt="Avatar" class="avatar-preview"
     style="border: 4px solid black; border-radius: 50%; width: 150px; height: auto;">

    <button id="editAvatarBtn">Change picture</button>

    <div style="margin-top: 12px; display: flex; align-items: right; gap: 10px;">
<label for="borderColorPicker" class="border-color-label">Border Color:</label>
  <input type="color" id="borderColorPicker" style="width: 36px; height: 36px; padding: 0; border: none; background: none; cursor: pointer;">

 <button 
    id="saveAndRefreshBtn"
    style="
      background-color: #51ff00;
      color: #111;
      font-weight: bold;
      border: none;
      padding: 10px 18px;
      font-size: 14px;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 0 8px rgba(81, 255, 0, 0.5);
      transition: all 0.2s ease;
    "
    onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 0 12px rgba(81, 255, 0, 0.8)'"
    onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 0 8px rgba(81, 255, 0, 0.5)'"
  >
    âœ… Save & Refresh
  </button>
</div>


    <h3>Statistiques :</h3>
    <div id="statsContainer"></div>

    <h3>Export / Import</h3>
    <button id="exportProfile">ğŸ“¤ Export</button>
    <input type="file" id="importFileInput" />
    <button id="importProfile">ğŸ“¥ Import</button>

    <button id="resetProfile" style="background-color: #c0392b; color: white; margin-top: 10px;">
  ğŸ”„ Reset Profile
</button>

  </div>
</div>

<!-- === Avatar Crop Modal === -->
<div id="avatarCropModal" class="modal hidden">
  <div class="modal-content">
    <span class="close" id="closeCropper">&times;</span>
    <h3>Choose your picture</h3>
    <div id="avatarGrid"></div>
    <canvas id="avatarCanvas" width="300" height="300"></canvas>
    <div class="crop-controls">
      <button id="zoomIn">ğŸ”+</button>
      <button id="zoomOut">ğŸ”-</button>
      <button id="confirmCrop">âœ… Ok</button>
    </div>
  </div>
</div>
<script src="./profile/profile.js"></script>

</body>
</html>
